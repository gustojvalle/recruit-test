import { Component, OnInit } from '@angular/core';
import { ApiService } from '../api.service';

const ALL_EMOJIS = "ðŸ˜€ðŸ˜ðŸ˜‚ ðŸ˜ƒ ðŸ˜„Â ðŸ˜…   ðŸ˜† ðŸ˜‡ ðŸ˜ˆ ðŸ‘¿ ðŸ˜‰ ðŸ˜Š â˜ºï¸ ðŸ˜‹ ðŸ˜Œ ðŸ˜ ðŸ˜Ž ðŸ˜ ðŸ˜ ðŸ˜‘ ðŸ˜’ ðŸ˜“ ðŸ˜” ðŸ˜• ðŸ˜– ðŸ˜— ðŸ˜˜ ðŸ˜™ ðŸ˜š ðŸ˜› ðŸ˜œ ðŸ˜ ðŸ˜ž ðŸ˜Ÿ ðŸ˜  ðŸ˜¡ ðŸ˜¢ ðŸ˜£ ðŸ˜¤ ðŸ˜¥ ðŸ˜¦ ðŸ˜§ ðŸ˜¨ ðŸ˜© ðŸ˜ª ðŸ˜« ðŸ˜¬ ðŸ˜­ ðŸ˜® ðŸ˜¯ ðŸ˜° ðŸ˜± ðŸ˜² ðŸ˜³ ðŸ˜´ ðŸ˜µ ðŸ˜¶ ðŸ˜· ðŸ˜¸ ðŸ˜¹ ðŸ˜º ðŸ˜» ðŸ˜¼ ðŸ˜½ ðŸ˜¾ ðŸ˜¿ ðŸ™€ ðŸ‘£ ðŸ‘¤ ðŸ‘¥ ðŸ‘¶ ðŸ‘¶ðŸ» ðŸ‘¶ðŸ¼ ðŸ‘¶ðŸ½ ðŸ‘¶ðŸ¾ ðŸ‘¶ðŸ¿ ðŸ‘¦ ðŸ‘¦ðŸ» ðŸ‘¦ðŸ¼ ðŸ‘¦ðŸ½ ðŸ‘¦ðŸ¾ ðŸ‘¦ðŸ¿ ðŸ‘§ ðŸ‘§ðŸ» ðŸ‘§ðŸ¼ ðŸ‘§ðŸ½ ðŸ‘§ðŸ¾ ðŸ‘§ðŸ¿ ðŸ‘¨ ðŸ‘¨ðŸ» ðŸ‘¨ðŸ¼ ðŸ‘¨ðŸ½ ðŸ‘¨ðŸ¾ ðŸ‘¨ðŸ¿ ðŸ‘© ðŸ‘©ðŸ» ðŸ‘©ðŸ¼ ðŸ‘©ðŸ½ ðŸ‘©ðŸ¾ ðŸ‘©ðŸ¿ ðŸ‘ª ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§ ðŸ‘©â€ðŸ‘©â€ðŸ‘¦ ðŸ‘©â€ðŸ‘©â€ðŸ‘§ ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§ ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦ ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§ ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦ ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦ ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§ ðŸ‘« ðŸ‘¬ ðŸ‘­ ðŸ‘¯ ðŸ‘° ðŸ‘°ðŸ» ðŸ‘°ðŸ¼ ðŸ‘°ðŸ½ ðŸ‘°ðŸ¾ ðŸ‘°ðŸ¿ ðŸ‘± ðŸ‘±ðŸ» ðŸ‘±ðŸ¼ ðŸ‘±ðŸ½ ðŸ‘±ðŸ¾ ðŸ‘±ðŸ¿ ðŸ‘² ðŸ‘²ðŸ» ðŸ‘²ðŸ¼ ðŸ‘²ðŸ½ ðŸ‘²ðŸ¾ ðŸ‘²ðŸ¿ ðŸ‘³ ðŸ‘³ðŸ» ðŸ‘³ðŸ¼ ðŸ‘³ðŸ½ ðŸ‘³ðŸ¾ ðŸ‘³ðŸ¿ ðŸ‘´ ðŸ‘´ðŸ» ðŸ‘´ðŸ¼ ðŸ‘´ðŸ½ ðŸ‘´ðŸ¾ ðŸ‘´ðŸ¿ ðŸ‘µ ðŸ‘µðŸ» ðŸ‘µðŸ¼ ðŸ‘µðŸ½ ðŸ‘µðŸ¾ ðŸ‘µðŸ¿ ðŸ‘® ðŸ‘®ðŸ» ðŸ‘®ðŸ¼ ðŸ‘®ðŸ½ ðŸ‘®ðŸ¾ ðŸ‘®ðŸ¿ ðŸ‘· ðŸ‘·ðŸ» ðŸ‘·ðŸ¼ ðŸ‘·ðŸ½ ðŸ‘·ðŸ¾ ðŸ‘·ðŸ¿ ðŸ‘¸ ðŸ‘¸ðŸ» ðŸ‘¸ðŸ¼ ðŸ‘¸ðŸ½ ðŸ‘¸ðŸ¾ ðŸ‘¸ðŸ¿ ðŸ’‚ ðŸ’‚ðŸ» ðŸ’‚ðŸ¼ ðŸ’‚ðŸ½ ðŸ’‚ðŸ¾ ðŸ’‚ðŸ¿ ðŸ‘¼ ðŸ‘¼ðŸ» ðŸ‘¼ðŸ¼ ðŸ‘¼ðŸ½ ðŸ‘¼ðŸ¾ ðŸ‘¼ðŸ¿ ðŸŽ… ðŸŽ…ðŸ» ðŸŽ…ðŸ¼ ðŸŽ…ðŸ½ ðŸŽ…ðŸ¾ ðŸŽ…ðŸ¿ ðŸ‘» ðŸ‘¹ ðŸ‘º ðŸ’© ðŸ’€ ðŸ‘½ ðŸ‘¾ ðŸ™‡ ðŸ™‡ðŸ» ðŸ™‡ðŸ¼ ðŸ™‡ðŸ½ ðŸ™‡ðŸ¾ ðŸ™‡ðŸ¿ ðŸ’ ðŸ’ðŸ» ðŸ’ðŸ¼ ðŸ’ðŸ½ ðŸ’ðŸ¾ ðŸ’ðŸ¿ ðŸ™… ðŸ™…ðŸ» ðŸ™…ðŸ¼ ðŸ™…ðŸ½ ðŸ™…ðŸ¾ ðŸ™…ðŸ¿ ðŸ™† ðŸ™†ðŸ» ðŸ™†ðŸ¼ ðŸ™†ðŸ½ ðŸ™†ðŸ¾ ðŸ™†ðŸ¿ ðŸ™‹ ðŸ™‹ðŸ» ðŸ™‹ðŸ¼ ðŸ™‹ðŸ½ ðŸ™‹ðŸ¾ ðŸ™‹ðŸ¿ ðŸ™Ž ðŸ™ŽðŸ» ðŸ™ŽðŸ¼ ðŸ™ŽðŸ½ ðŸ™ŽðŸ¾ ðŸ™ŽðŸ¿ ðŸ™ ðŸ™ðŸ» ðŸ™ðŸ¼ ðŸ™ðŸ½ ðŸ™ðŸ¾ ðŸ™ðŸ¿ ðŸ’† ðŸ’†ðŸ» ðŸ’†ðŸ¼ ðŸ’†ðŸ½ ðŸ’†ðŸ¾ ðŸ’†ðŸ¿ ðŸ’‡ ðŸ’‡ðŸ» ðŸ’‡ðŸ¼ ðŸ’‡ðŸ½ ðŸ’‡ðŸ¾ ðŸ’‡ðŸ¿ ðŸ’‘ ðŸ‘©â€â¤ï¸â€ðŸ‘© ðŸ‘¨â€â¤ï¸â€ðŸ‘¨ ðŸ’ ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘© ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨ ðŸ™Œ ðŸ™ŒðŸ» ðŸ™ŒðŸ¼ ðŸ™ŒðŸ½ ðŸ™ŒðŸ¾ ðŸ™ŒðŸ¿ ðŸ‘ðŸ‚ ðŸƒ ðŸ„ ðŸŒ° ðŸ€ ðŸ ðŸ­ ðŸ¹ ðŸ‚ ðŸƒ ðŸ„ ðŸ® ðŸ… ðŸ† ðŸ¯ ðŸ‡ ðŸ° ðŸˆ ðŸ± ðŸŽ ðŸ´ ðŸ ðŸ‘ ðŸ ðŸ“ ðŸ” ðŸ¤ ðŸ£ ðŸ¥ ðŸ¦ ðŸ§ ðŸ˜ ðŸª ðŸ« ðŸ— ðŸ– ðŸ· ðŸ½ ðŸ•   ðŸ© ðŸ¶ ðŸº ðŸ» ðŸ¨ ðŸ¼ ðŸµ ðŸ™ˆ  ðŸ™‰ ðŸ™Š ðŸ’ ðŸ‰ ðŸ² ðŸŠ ðŸ ðŸ¢ ðŸ¸ ðŸ‹ ðŸ³ ðŸ¬ ðŸ™ ðŸŸ ðŸ  ðŸ¡ ðŸš ðŸŒ ðŸ› â›³ï¸ ðŸ† ðŸŽ½ ðŸ ðŸŽ¹ ðŸŽ¸ ðŸŽ» ðŸŽ· ðŸŽº ðŸŽµ ðŸŽ¶ ðŸŽ¼ ðŸŽ§ ðŸŽ¤ ðŸŽ­ ðŸŽ« ðŸŽ© ðŸŽª ðŸŽ¬ ðŸŽ¨ ðŸŽ¯ ðŸŽ± ðŸŽ³ ðŸŽ° ðŸŽ² ðŸŽ® ðŸŽ´ ðŸƒ ðŸ€„ï¸ ðŸŽ  ðŸŽ¡ ðŸŽ¢ ðŸšƒ ðŸšž ðŸš‚ ðŸš‹ ðŸš ðŸš„ ðŸš… ðŸš† ðŸš‡ ðŸšˆ ðŸš‰ ðŸšŠ ðŸšŒ ðŸš ðŸšŽ ðŸš ðŸš‘ ðŸš’ ðŸš“ ðŸš” ðŸš¨ ðŸš• ðŸš– ðŸš— ðŸš˜ ðŸš™ ðŸšš ðŸš› ðŸšœ ðŸš² ðŸš â›½ï¸ ðŸš§ ðŸš¦ ðŸš¥ ðŸš€ ðŸš âœˆï¸ ðŸ’º âš“ï¸ ðŸš¢ ðŸš¤ â›µï¸ ðŸš¡ ðŸš  ðŸšŸ ðŸ›‚ ðŸ›ƒ ðŸ›„ ðŸ›… ðŸ’´ ðŸ’¶ ðŸ’· ðŸ’µ ðŸ—½ ðŸ—¿ ðŸŒ ðŸ—¼ â›²ï¸ ðŸ° ðŸ¯ ðŸŒ‡ ðŸŒ† ðŸŒƒ ðŸŒ‰ ðŸ  ðŸ¡ ðŸ¢ ðŸ¬ ðŸ­ ðŸ£ ðŸ¤ ðŸ¥ ðŸ¦ ðŸ¨ ðŸ© ðŸ’’ â›ªï¸ ðŸª ðŸ« ðŸ‡¦ðŸ‡º ðŸ‡¦ðŸ‡¹ ðŸ‡§ðŸ‡ª ðŸ‡§ðŸ‡· ðŸ‡¨ðŸ‡¦ ðŸ‡¨ðŸ‡± ðŸ‡¨ðŸ‡³ ðŸ‡¨ðŸ‡´ ðŸ‡©ðŸ‡° ðŸ‡«ðŸ‡® ðŸ‡«ðŸ‡· ðŸ‡©ðŸ‡ª ðŸ‡­ðŸ‡° ðŸ‡®ðŸ‡³ ðŸ‡®ðŸ‡© ðŸ‡®ðŸ‡ª ðŸ‡®ðŸ‡± ðŸ‡®ðŸ‡¹ ðŸ‡¯ðŸ‡µ ðŸ‡°ðŸ‡· ðŸ‡²ðŸ‡´ ðŸ‡²ðŸ‡¾ ðŸ‡²ðŸ‡½ ðŸ‡³ðŸ‡± ðŸ‡³ðŸ‡¿ ðŸ‡³ðŸ‡´ ðŸ‡µðŸ‡­ ðŸ‡µðŸ‡± ðŸ‡µðŸ‡¹ ðŸ‡µðŸ‡· ðŸ‡·ðŸ‡º ðŸ‡¸ðŸ‡¦ ðŸ‡¸ðŸ‡¬ ðŸ‡¿ðŸ‡¦ ðŸ‡ªðŸ‡¸ ðŸ‡¸ðŸ‡ª ðŸ‡¨ðŸ‡­ ðŸ‡¹ðŸ‡· ðŸ‡¬ðŸ‡§ ðŸ‡ºðŸ‡¸ ðŸ‡¦ðŸ‡ª ðŸ‡»ðŸ‡³ âŒšï¸ ðŸ“± ðŸ“² ðŸ’» â° â³ âŒ›ï¸ ðŸ“· ðŸ“¹ ðŸŽ¥ ðŸ“º ðŸ“» ðŸ“Ÿ ðŸ“ž â˜Žï¸ ðŸ“  ðŸ’½ ðŸ’¾ ðŸ’¿ ðŸ“€ ðŸ“¼ ðŸ”‹ ðŸ”Œ ðŸ’¡ ðŸ”¦ ðŸ“¡ ðŸ’³ ðŸ’¸ ðŸ’° ðŸ’Ž ðŸŒ‚ ðŸ‘ ðŸ‘› ðŸ‘œ ðŸ’¼ ðŸŽ’ ðŸ’„ ðŸ‘“ ðŸ‘’ ðŸ‘¡ ðŸ‘  ðŸ‘¢ ðŸ‘ž ðŸ‘Ÿ ðŸ‘™ ðŸ‘— ðŸ‘˜ ðŸ‘š ðŸ‘• ðŸ‘” ðŸ‘– ðŸšª ðŸš¿ ðŸ› ðŸš½ ðŸ’ˆ ðŸ’‰ ðŸ’Š ðŸ”¬ ðŸ”­ ðŸ”® ðŸ”§ ðŸ”ª ðŸ”© ðŸ”¨ ðŸ’£ ðŸš¬ ðŸ”« ðŸ”– ðŸ“° ðŸ”‘ âœ‰ï¸ ðŸ“© ðŸ“¨ ðŸ“§ ðŸ“¥ ðŸ“¤ ðŸ“¦ ðŸ“¯ ðŸ“® ðŸ“ª ðŸ“« ðŸ“¬ ðŸ“­ ðŸ“„ ðŸ“ƒ ðŸ“‘ ðŸ“ˆ ðŸ“‰ ðŸ“Š ðŸ“… ðŸ“† ðŸ”… ðŸ”† ðŸ“œ ðŸ“‹ ðŸ“– ðŸ““ ðŸ“” ðŸ“’ ðŸ“• ðŸ“— ðŸ“˜ ðŸ“™Â ðŸ“š ðŸ“‡ ðŸ”— ðŸ“Ž ðŸ“Œ âœ‚ï¸  ðŸ“ ðŸ“ ðŸ“ ðŸš© ðŸ“ ðŸ“‚ âœ’ï¸ âœï¸ ðŸ“Â ðŸ”  â„¹ï¸ ðŸ“¶ ðŸŽ¦ ðŸ”£ ðŸ•§";

@Component({
  selector: 'app-home',
  templateUrl: './home.component.html',
  styleUrls: ['./home.component.scss']
})
export class HomeComponent implements OnInit {

  constructor(private apiService: ApiService) { }

  emojiArray: string[] = [];

  ngOnInit(): void {
    this.emojiArray = this.parseEmojis(ALL_EMOJIS, " ");
  }

  async emojiClicked(emoji: string) {
    await this.apiService.submitVote(emoji);
    alert("Your vote has been submitted!");
  }
  
  parseEmojis(emojiString: string, delimiter: string) : string[] {
    let innerParse: ((e: string, d: string) => string[])|null = null;
    innerParse = (e: string, d: string) => {
      const split = emojiString.split(d);
      const returnVal : string[] = [];
      for (let emoji of split) {
        if (emoji.length == 1) {
          returnVal.push(emoji);
        } else {
          try {
            returnVal.push(...(<(e: string, d: string) => string[]>innerParse)(emoji, "\t"));
          } catch (e) {
            console.error(e);
          }
        }
      }
      return returnVal;
    };
    
    return innerParse(emojiString, delimiter);
  }
}
